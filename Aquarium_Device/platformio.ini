; PlatformIO Project Configuration File
;
; Target board: STM32 NUCLEO-F103RB (STM32F103RB)
; Framework: STM32Cube (HAL)
;
; Usage (in VSCode terminal or PlatformIO UI):
; - Build:  pio run
; - Upload: pio run -t upload
; - Debug:  pio debug

[platformio]
default_envs = nucleo_f103rb

[env:nucleo_f103rb]
platform = ststm32
board = nucleo_f103rb
framework = stm32cube

upload_protocol = stlink
debug_tool = stlink

monitor_speed = 115200

build_flags =
  -DAPP_VERSION=\"0.1.0\"

; Native test environment (runs on host, no board required)
; Usage: pio test -e native
[env:native]
platform = native
test_framework = unity
test_build_src = false
platform_packages =
  platformio/toolchain-gccmingw32
extra_scripts =
  pre:scripts/native_toolchain.py
build_flags =
  -DUNIT_TEST
  -std=c99
